<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/common.html::head" style="height: 100%; margin: 0"></head>

<body style="height: 100%; margin: 0">

<div class="background" style="background-color:darkgray; height: 100%">
    <div class="container-fluid" style="background-color:lightgrey; width: 88%; min-height: 100%">
        <th:block th:include="fragments/navbar"></th:block>

        <nav aria-label="breadcrumb" style="margin-top: 15px">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/}">Categories</a></li>
                <li class="breadcrumb-item active" aria-current="page">Admin panel (Users)</li>
            </ol>
        </nav>

        <div class="users">
            <table class="table" style="background: white">
                <thead>
                <tr>
                    <th scope="col" class="text-center">â„–</th>
                    <th scope="col" class="text-center">Users</th>
                    <th scope="col" class="text-center">Email</th>
                    <th scope="col" class="text-center">ADMIN</th>
                    <th scope="col" class="text-center">USER</th>
                    <th scope="col" class="text-center">BAN</th>
                    <th scope="col" class="text-center">Submit</th>
                </tr>
                </thead>
                <tbody>
                <form action="#" th:name="roles" th:action="@{/users}" th:object="${listUsersRole}" method="post">
                    <th:block  th:each="roleEntity : *{userRoles}">
                        <tr>
                            <td style="padding-left:20px ">
                                <span th:text="${roleEntityStat.count}"></span></td>
                            <td class="text-center"><span class="users"
                                                          th:text="${roleEntity.getUser().getUserName()}"></span></td>
                            <td class="text-center"><span class="mail"
                                                          th:text="${roleEntity.getUser().getEmail()}"></span></td>

                            <td>
                                <select  th:field="*{userRoles[__${roleEntityStat.index}__].role}" >
                                    <option th:each="appRole : ${listRoles}"
                                            th:value="${appRole.roleId}"
                                            th:text="${appRole.roleName}">

                                    </option>
<!--                                    ${usersRole.getUserRoles()[__${userRoleStat.index}__].setRole(appRole)}-->
                                </select>
                            </td>
                            <td align="center">


                            </td>
                        </tr>
                    </th:block>
                    <button class="btn btn-info btn-sm" th:name="roles" type="submit">submit</button>
                </form>
                </tbody>
            </table>

        </div>
        <div class="push" style="height: 50px"></div>
    </div>
</div>
<div style="height: 50px" th:replace="fragments/footer.html :: footer"></div>
</body>
</html>
</body>
</html>